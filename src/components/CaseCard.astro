---
import { Image } from "astro:assets";
import Arrow from "@/icons/arrow.astro";

const { slug, category, title, description, img, caption } = Astro.props;
---

<div
  class="min-w-[90%] md:min-w-[calc(100%/3)] md:w-1/3 px-1 md:px-2 snap-center"
>
  <a
    href={slug}
    class="flex flex-col h-full overflow-hidden border-2 rounded-lg group border-neutral-200 bg-accent-purple"
  >
    <div class="overflow-hidden p-8 bg-white rounded-b-lg">
      <Image
        class="object-contain w-full h-40 transition-transform duration-300 group-hover:scale-105"
        src={img}
        alt={caption}
        inferSize
        loading="lazy"
      />
    </div>

    <header class="p-4">
      <small class="block px-4 py-1 mb-4 bg-white w-fit rounded-3xl"
        >{category}</small
      >
      <h3
        class="text-base font-bold text-pretty text-neutral-800 group-hover:text-primary"
      >
        {title}
      </h3>
    </header>

    <div class="px-4 mb-3">
      <div
        class="text-clamp-4 text-sm [&>p]:text-neutral-600"
        set:html={description}
      />
    </div>

    <footer class="content-end flex-1 p-4">
      <button
        class="flex justify-center w-full gap-2 px-3 py-3 font-bold bg-white border-2 rounded-lg md:px-6 text-primary border-primary md:w-fit hover:bg-accent"
        >Ver caso completo <Arrow size={24} />
      </button>
    </footer>
  </a>
</div>
